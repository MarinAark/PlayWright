# Jenkins é›†æˆé…ç½®æŒ‡å—

## ğŸ¯ ç›®æ ‡
ç¡®ä¿Jenkinsèƒ½æ­£ç¡®è¿è¡Œæµ‹è¯•å¹¶ç”ŸæˆAllureæµ‹è¯•æŠ¥å‘Š

## ğŸ“‹ å¿…éœ€çš„Jenkinsæ’ä»¶

### æ ¸å¿ƒæ’ä»¶
1. **Allure Jenkins Plugin** - ç”ŸæˆAllureæµ‹è¯•æŠ¥å‘Š
2. **HTML Publisher Plugin** - å‘å¸ƒHTMLæµ‹è¯•æŠ¥å‘Š
3. **Email Extension Plugin** - å‘é€é‚®ä»¶é€šçŸ¥
4. **Git Plugin** - Gitä»£ç ç®¡ç†
5. **Pipeline Plugin** - æµæ°´çº¿æ”¯æŒ
6. **Workspace Cleanup Plugin** - å·¥ä½œç©ºé—´æ¸…ç†

### å®‰è£…æ­¥éª¤
1. ç™»å½•Jenkinsç®¡ç†ç•Œé¢
2. è¿›å…¥ "Manage Jenkins" â†’ "Manage Plugins"
3. åœ¨ "Available" æ ‡ç­¾é¡µæœç´¢å¹¶å®‰è£…ä¸Šè¿°æ’ä»¶
4. é‡å¯Jenkins

## âš™ï¸ Jenkinsç³»ç»Ÿé…ç½®

### 1. é…ç½®Allureå‘½ä»¤è¡Œå·¥å…·
1. è¿›å…¥ "Manage Jenkins" â†’ "Configure System"
2. æ‰¾åˆ° "Allure Commandline" éƒ¨åˆ†
3. æ·»åŠ Allureå®‰è£…è·¯å¾„ï¼š
   - **Name**: `Allure`
   - **Home**: `/usr/local/bin/allure` æˆ– `/opt/allure/bin/allure`

### 2. é…ç½®é‚®ä»¶æœåŠ¡å™¨
1. è¿›å…¥ "Manage Jenkins" â†’ "Configure System"
2. æ‰¾åˆ° "Extended E-mail Notification" éƒ¨åˆ†
3. é…ç½®SMTPæœåŠ¡å™¨ä¿¡æ¯

### 3. é…ç½®Pythonç¯å¢ƒ
1. ç¡®ä¿JenkinsæœåŠ¡å™¨å·²å®‰è£…Python 3.8+
2. ç¡®ä¿Jenkinsç”¨æˆ·æœ‰æƒé™åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

## ğŸš€ åˆ›å»ºJenkinsä»»åŠ¡

### 1. æ–°å»ºæµæ°´çº¿ä»»åŠ¡
1. ç‚¹å‡» "New Item"
2. é€‰æ‹© "Pipeline"
3. è¾“å…¥ä»»åŠ¡åç§°ï¼Œå¦‚ï¼š`playwright-api-test`

### 2. é…ç½®æµæ°´çº¿
1. åœ¨ "Pipeline" éƒ¨åˆ†é€‰æ‹© "Pipeline script from SCM"
2. **Repository URL**: è¾“å…¥æ‚¨çš„Gitä»“åº“åœ°å€
3. **Credentials**: é€‰æ‹©Gitè®¤è¯ä¿¡æ¯
4. **Branch Specifier**: `*/main` æˆ– `*/master`
5. **Script Path**: `Jenkinsfile`

### 3. é…ç½®æ„å»ºè§¦å‘å™¨
- **Poll SCM**: `H/5 * * * *` (æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡)
- **GitHub hook trigger for GITScm polling** (å¦‚æœä½¿ç”¨GitHub)

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1: AllureæŠ¥å‘Šæœªç”Ÿæˆ
**ç—‡çŠ¶**: æµ‹è¯•æ‰§è¡ŒæˆåŠŸï¼Œä½†æ²¡æœ‰AllureæŠ¥å‘Š
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥Allureå‘½ä»¤è¡Œå·¥å…·æ˜¯å¦æ­£ç¡®å®‰è£…
2. éªŒè¯Jenkinsç³»ç»Ÿé…ç½®ä¸­çš„Allureè·¯å¾„
3. æ£€æŸ¥æµ‹è¯•æ˜¯å¦ç”Ÿæˆäº† `results/allure-results/` ç›®å½•

### é—®é¢˜2: æµ‹è¯•æ‰§è¡Œå¤±è´¥
**ç—‡çŠ¶**: æµ‹è¯•é˜¶æ®µå¤±è´¥ï¼Œæ— æ³•ç”ŸæˆæŠ¥å‘Š
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥Jenkinsæ§åˆ¶å°è¾“å‡º
2. éªŒè¯Pythonç¯å¢ƒå’Œä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
3. æ£€æŸ¥Playwrightæµè§ˆå™¨æ˜¯å¦å·²å®‰è£…

### é—®é¢˜3: é‚®ä»¶å‘é€å¤±è´¥
**ç—‡çŠ¶**: æ„å»ºæˆåŠŸä½†é‚®ä»¶æœªå‘é€
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥é‚®ä»¶æœåŠ¡å™¨é…ç½®
2. éªŒè¯æ”¶ä»¶äººé‚®ç®±åœ°å€
3. æ£€æŸ¥Jenkinsé‚®ä»¶æ’ä»¶é…ç½®

## ğŸ“Š éªŒè¯é…ç½®

### 1. æ‰‹åŠ¨è§¦å‘æ„å»º
1. åœ¨Jenkinsä»»åŠ¡é¡µé¢ç‚¹å‡» "Build Now"
2. è§‚å¯Ÿæ„å»ºè¿‡ç¨‹
3. æ£€æŸ¥æ˜¯å¦ç”Ÿæˆäº†AllureæŠ¥å‘Š

### 2. æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
1. æ„å»ºå®Œæˆåï¼Œç‚¹å‡»æ„å»ºç¼–å·
2. åœ¨å·¦ä¾§èœå•ä¸­åº”è¯¥èƒ½çœ‹åˆ° "Allure Report" é“¾æ¥
3. ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Š

### 3. æ£€æŸ¥å½’æ¡£æ–‡ä»¶
1. åœ¨æ„å»ºé¡µé¢æŸ¥çœ‹ "Build Artifacts"
2. åº”è¯¥åŒ…å«HTMLæŠ¥å‘Šã€æµ‹è¯•æ•°æ®ç­‰æ–‡ä»¶

## ğŸ‰ æˆåŠŸæ ‡å¿—

å½“é…ç½®æ­£ç¡®æ—¶ï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- âœ… æµ‹è¯•æ‰§è¡ŒæˆåŠŸ
- âœ… ç”Ÿæˆäº† `results/allure-results/` ç›®å½•
- âœ… Jenkinsæ˜¾ç¤º "Allure Report" é“¾æ¥
- âœ… é‚®ä»¶é€šçŸ¥åŒ…å«æŠ¥å‘Šé“¾æ¥
- âœ… æµ‹è¯•ç»“æœè¢«æ­£ç¡®å½’æ¡£

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥Jenkinsæ§åˆ¶å°è¾“å‡º
2. æŸ¥çœ‹Jenkinsç³»ç»Ÿæ—¥å¿—
3. éªŒè¯æ‰€æœ‰å¿…éœ€æ’ä»¶å·²å®‰è£…
4. ç¡®è®¤ç³»ç»Ÿé…ç½®æ­£ç¡®
